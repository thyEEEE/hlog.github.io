class dt7{
    constructor(){}
    save(DataName,data){
        const fs = require('fs')
        if(!"./" + DataName + ".dt7"){
            fs.appendFile(DataName + ".dt7", data, function(err) {
                if(err) console.log(err)
            })
        }else{
            fs.writeFile("./" + DataName + ".dt7", "\n" + data, function(err){
                if(err) console.log(err)
            })
        }
    }
    update(DataName,data){
        const fs = require('fs')
        fs.truncate("./" + DataName + ".dt7", 0, function(err){
            if(err) console.log(err)
            fs.writeFile(`./${DataName}.dt7`, data + "\n", function(err){
                if(err) console.log(err)
            })
        })
    }
    clear(DataName){
        const fs = require('fs')
        fs.truncate("./" + DataName + ".dt7", 0, function(err){
            if(err) console.log(err)
        })
    }
    get(DataName){
        const fs = require('fs')
        return fs.readFileSync("./" + DataName + ".dt7",'utf8')
    }
    remove(DataName,toRemove){
        const fs = require('fs')
        const newC = fs.readFileSync("./" + DataName + ".dt7",'utf8').replaceAll(toRemove,"")
        fs.truncate("./" + DataName + ".dt7", 0, function(err){
            if(err) console.log(err)
            fs.writeFile("./" + DataName + ".dt7", newC, function(err){
                if(err) console.log(err)
            })
        })
    }
} 

module.exports = dt7